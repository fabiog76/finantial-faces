<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.prime.com.tr/ui"
        xmlns:finantial="http://java.sun.com/jsf/composite/components/finantial"
        xmlns:c="http://java.sun.com/jsp/jstl/core">


    <p:panel header="Incluir Finança em #{y.title}">

                <h:panelGrid columns="3" cellpadding="0" id="grid_add">
                    <h:column>
                        <p:outputPanel id="tipo_outcome">
                            <h:panelGrid id="grid_outcome" columns="2" cellspacing="4px" rendered="#{financeBean.tipoCorrete eq financeBean.OUTCOME}">
                                <finantial:label for="outcome_descricao" value="#{msg['finance.label.descricao']}:" required="true"/>
                                <h:inputText id="outcome_descricao" value="#{financeBean.financeDescription}"/>
                                <finantial:label for="outcome_valor" value="#{msg['finance.label.valor']}:" required="true"/>
                                <h:inputText id="outcome_valor" value="#{financeBean.financeValue}"/>
                            </h:panelGrid>
                        </p:outputPanel>
                        <p:outputPanel id="tipo_income">
                            <h:panelGrid id="grid_income" columns="2" cellspacing="4px"  rendered="#{financeBean.tipoCorrete eq financeBean.INCOME}">
                                <finantial:label for="income_descricao" value="#{msg['finance.label.descricao']}:" required="true"/>
                                <h:inputText id="income_descricao" value="#{financeBean.financeDescription}"/>
                                <finantial:label for="income_valor" value="#{msg['finance.label.valor']}:" required="true"/>
                                <h:inputText id="income_valor" value="#{financeBean.financeValue}"/>
                            </h:panelGrid>
                        </p:outputPanel>
                        
                        
                    </h:column>
                   
                    <h:column>
                        <h:panelGrid columns="2" id="grid_finance"  >
                            <finantial:label for="date_income" value="#{msg['finance.label.data']}:" required="true"/>
                            <p:calendar id="date_income" effectDuration="0.5" value="#{financeBean.date}" pattern="dd/MM/yyyy" effect="drop"  showOtherMonths="true"  readOnlyInputText="true" locale="pt_BR" navigator="true" styleClass="calendar"  showOn="both" mindate="#{y.firstDateOfYear}" maxdate="#{y.lastDateOfYear}"  popupIcon="../resources/images/calendar.png"/>
                            <finantial:label for="select_tipo" value="#{msg['finance.label.tipo']}:"/>
                            <h:column>
                                <h:selectOneMenu id="select_tipo" value="#{financeBean.tipoCorrete}" styleClass="tipo">
                                <f:selectItems value="#{financeBean.tiposFinanca}" var="tipo" itemLabel="#{tipo eq financeBean.INCOME ? msg['finance.label.tipo.income'] : msg['finance.label.tipo.outcome']}" itemValue="#{tipo}"/>
                                <f:ajax execute="grid_add" render="select_subtipo grid_add"/>
                            </h:selectOneMenu>
                            <finantial:label for="select_subtipo_#{financeBean.tipoCorrete}"  value="&#160;&#160;&#160;#{msg['finance.label.subtipo']}:"/>

                            <p:outputPanel id="select_subtipo">
                                <h:selectOneMenu id="select_subtipo_income" rendered="#{financeBean.tipoCorrete eq financeBean.INCOME}"  value="#{financeBean.subtipoIncomeCorrete}"  style="padding-bottom: 1px;padding-top: 1px;height: 21px;width: 118px;*width: 183px">
                                    <f:selectItems value="#{financeBean.subtiposIncome}" var="subtipo" itemLabel="#{msg['subtipo.income.'.concat(subtipo.description)]}" itemValue="#{subtipo}"/>
                                    <f:converter converterId="incomeConveter"/>
                                </h:selectOneMenu>
                                <h:selectOneMenu id="select_subtipo_outcome" rendered="#{financeBean.tipoCorrete eq financeBean.OUTCOME}"  value="#{financeBean.subtipoOutcomeCorrete}"  style="padding-bottom: 1px;padding-top: 1px;height: 21px;width: 118px;*width: 183px">
                                    <f:selectItems value="#{financeBean.subtiposOutcome}" var="subtipo" itemLabel="#{msg['subtipo.outcome.'.concat(subtipo.description)]}" itemValue="#{subtipo}"/>
                                    <f:converter converterId="outcomeConveter"/>
                                </h:selectOneMenu>
                            </p:outputPanel>
                           
                            <p:commandButton value="Incluir" actionListener="#{financeBean.incluir}" process="grid_add" update="@form,messages"  style="background: #{themeService.themeProperties.BUTTON_BACKGROUND};margin-left: 10px" onmouseover="#{themeService.themeProperties.MOUSEOVER_EVENT}" onmouseout="#{themeService.themeProperties.MOUSEOUT_EVENT}"/>
                            </h:column>
                        </h:panelGrid>
                    </h:column>


                </h:panelGrid>
        <table width="100%">
            <tr>
                <td style="width: 110px">
                    <h:panelGrid columns="2" cellspacing="2">
                    <h:outputLabel value="Propagar Finança:"/>
                    <h:graphicImage library="images" name="info1.png" title="Escolha os meses em que a finança deve ser incluida. Note que o dia e o ano permanecem os mesmos, apenas o mês é mudado."/>
                     </h:panelGrid>
                </td>
                <td align="left">
                    <h:selectManyCheckbox layout="lineDirection" id="repeat_menu" value="#{financeBean.months}">
                        <f:selectItem itemDisabled="#{tabService.monthTabIndex eq 0}" itemLabel="jan" itemValue="#{y.title}-01-01"/>
                        <f:selectItem itemDisabled="#{tabService.monthTabIndex eq 1}" itemLabel="fev" itemValue="#{y.title}-02-01"/>
                        <f:selectItem itemDisabled="#{tabService.monthTabIndex eq 2}" itemLabel="mar" itemValue="#{y.title}-03-01"/>
                        <f:selectItem itemDisabled="#{tabService.monthTabIndex eq 3}" itemLabel="abr" itemValue="#{y.title}-04-01"/>
                        <f:selectItem itemDisabled="#{tabService.monthTabIndex eq 4}" itemLabel="mai" itemValue="#{y.title}-05-01"/>
                        <f:selectItem itemDisabled="#{tabService.monthTabIndex eq 5}" itemLabel="jun" itemValue="#{y.title}-06-01"/>
                        <f:selectItem itemDisabled="#{tabService.monthTabIndex eq 6}" itemLabel="jul" itemValue="#{y.title}-07-01"/>
                        <f:selectItem itemDisabled="#{tabService.monthTabIndex eq 7}" itemLabel="ago" itemValue="#{y.title}-08-01"/>
                        <f:selectItem itemDisabled="#{tabService.monthTabIndex eq 8}" itemLabel="set" itemValue="#{y.title}-09-01"/>
                        <f:selectItem itemDisabled="#{tabService.monthTabIndex eq 9}" itemLabel="out" itemValue="#{y.title}-10-01"/>
                        <f:selectItem itemDisabled="#{tabService.monthTabIndex eq 10}" itemLabel="nov" itemValue="#{y.title}-11-01"/>
                        <f:selectItem itemDisabled="#{tabService.monthTabIndex eq 11}" itemLabel="dez" itemValue="#{y.title}-12-01"/>

                                </h:selectManyCheckbox>
                </td>
            </tr>
                
              </table>
            </p:panel>

        
</ui:composition>