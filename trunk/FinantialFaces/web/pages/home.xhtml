<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition   xmlns:ui="http://java.sun.com/jsf/facelets"
                  xmlns="http://www.w3.org/1999/xhtml"
                  template="/template/main-template.xhtml"
                  xmlns:p="http://primefaces.prime.com.tr/ui"
                  xmlns:h="http://java.sun.com/jsf/html"
                  xmlns:f="http://java.sun.com/jsf/core"
                  xmlns:c="http://java.sun.com/jsp/jstl/core">

    <ui:define name="theme"/>

    <ui:define name="content">

         <h:form id="main_form">
            <p:outputPanel id="tab_panel">
                <p:panel header="Visualizar FinanÃ§as" >
            <p:tabView id="tabs" dynamic="false" cache="false" >
                <c:forEach id="fe" var="y" items="#{tabBean.tabYears}">
                    <p:tab  title="#{y.title}">
                        <p:tabView  dynamic="false" cache="false" >
                            <c:forEach var="m" items="#{y.finantialMonths}">
                                <p:tab  title="#{msg[m.title]}" >
<!--                                     <p:fieldset legend="#{msg['finance.label.legend']}">-->
                                         <table width="100%">
                                             <td align="left">
                                                 <p:panel  header="Receitas">
                                                     <p:dataTable var="r" value="#{m.currentUserIncomesInTheMonth}" rendered="#{not empty m.currentUserIncomesInTheMonth}" >
                                                         <p:column>
                                                             <f:facet name="header">
                                                                 <h:outputLabel value="#{msg['finance.label.data']}"/>
                                                             </f:facet>
                                                             <h:outputText value="#{r.date}">
                                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                             </h:outputText>
                                                         </p:column>
                                                         <p:column>
                                                             <f:facet name="header">
                                                                 <h:outputLabel value="#{msg['login.label.username']}"/>
                                                             </f:facet>
                                                              <h:outputText value="#{r.user}"/>
                                                         </p:column>
                                                         <p:column>
                                                             <f:facet name="header">
                                                                 <h:outputLabel value="#{msg['finance.label.descricao']}"/>
                                                             </f:facet>
                                                              <h:outputText value="#{r.description}"/>
                                                         </p:column>
                                                          <p:column>
                                                             <f:facet name="header">
                                                                #{msg['finance.label.tipo']}
                                                             </f:facet>
                                                              <h:outputText value="#{msg['subtipo.income.'.concat(r.type)]}"/>
                                                         </p:column>
                                                         <p:column>
                                                             <f:facet name="header">
                                                                #{msg['finance.label.valor']}
                                                             </f:facet>
                                                              <h:outputText value="#{r.value}"/>
                                                         </p:column>
                                                     </p:dataTable>
                                                     <div align="center">
                                                         <h:outputText value="Nenhuma receita cadastrada" style="color: red;font-size: 14px" rendered="#{empty m.currentUserIncomesInTheMonth}"/>
                                                     </div>
                                                 </p:panel>
                                             </td>
                                             <td align="right">
                                                 <p:panel  header="Despesas">
                                                     <p:dataTable  var="d" value="#{m.currentUserOutcomesInTheMonth}" rendered="#{not empty m.currentUserOutcomesInTheMonth}" style="border: none">
                                                        <p:column>
                                                             <f:facet name="header">
                                                                 <h:outputLabel value="#{msg['finance.label.data']}"/>
                                                             </f:facet>
                                                            <h:outputText value="#{d.date}">
                                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                                            </h:outputText>
                                                         </p:column>
                                                         <p:column>
                                                             <f:facet name="header">
                                                                 <h:outputLabel value="#{msg['login.label.username']}"/>
                                                             </f:facet>
                                                              <h:outputText value="#{d.user}"/>
                                                         </p:column>
                                                         <p:column>
                                                             <f:facet name="header">
                                                                 <h:outputLabel value="#{msg['finance.label.descricao']}"/>
                                                             </f:facet>
                                                              <h:outputText value="#{d.description}"/>
                                                         </p:column>
                                                          <p:column>
                                                             <f:facet name="header">
                                                                #{msg['finance.label.tipo']}
                                                             </f:facet>
                                                              <h:outputText value="#{msg['subtipo.income.'.concat(d.type)]}"/>
                                                         </p:column>
                                                         <p:column>
                                                             <f:facet name="header">
                                                                #{msg['finance.label.valor']}
                                                             </f:facet>
                                                              <h:outputText value="#{d.value}"/>
                                                         </p:column>
                                                     </p:dataTable>

                                                     <div align="center">
                                                         <h:outputText value="Nenhuma despesa cadastrada" style="color: red;font-size: 14px" rendered="#{empty m.currentUserOutcomesInTheMonth}"/>
                                                     </div>
                                                 </p:panel>
                                             </td>



                                         </table>
                                       

<!--                                    </p:fieldset>-->

                                </p:tab>
                            </c:forEach>

                            </p:tabView>
                    </p:tab>
                </c:forEach>
            </p:tabView>
                    </p:panel>  
         </p:outputPanel>
             <p:outputPanel id="include_finance">
                 <ui:include src="add-financa.xhtml"/>
                 
             </p:outputPanel>
        </h:form>
    </ui:define>

</ui:composition>
